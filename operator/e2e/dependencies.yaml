# E2E Test Dependencies
# This file defines all external dependencies used in E2E tests,
# including container images and Helm charts with their versions.
# 
# Think of this as the "go.mod" for E2E test dependencies - it makes
# version management centralized and easy to update.

# Container images to pre-pull into the test cluster
# Pre-pulling speeds up test execution by avoiding pull delays during pod creation
images:
  # Node Feature Discovery - required for GPU node labeling
  - name: registry.k8s.io/nfd/node-feature-discovery
    version: v0.17.3
  
  # NVIDIA GPU Operator
  - name: nvcr.io/nvidia/gpu-operator
    version: v25.3.4
  
  # Kai Scheduler components
  - name: ghcr.io/nvidia/kai-scheduler/admission
    version: v0.13.0-rc1
  - name: ghcr.io/nvidia/kai-scheduler/binder
    version: v0.13.0-rc1
  - name: ghcr.io/nvidia/kai-scheduler/operator
    version: v0.13.0-rc1
  - name: ghcr.io/nvidia/kai-scheduler/podgroupcontroller
    version: v0.13.0-rc1
  - name: ghcr.io/nvidia/kai-scheduler/podgrouper
    version: v0.13.0-rc1
  - name: ghcr.io/nvidia/kai-scheduler/queuecontroller
    version: v0.13.0-rc1
  - name: ghcr.io/nvidia/kai-scheduler/scheduler
    version: v0.13.0-rc1

  # Cert-manager
  - name: quay.io/jetstack/cert-manager-controller
    version: v1.14.4
  - name: quay.io/jetstack/cert-manager-webhook
    version: v1.14.4
  - name: quay.io/jetstack/cert-manager-cainjector
    version: v1.14.4
  - name: quay.io/jetstack/cert-manager-ctl
    version: v1.14.4

# Helm charts used in E2E tests
helmCharts:
  # Kai Scheduler - gang scheduling for Kubernetes
  kaiScheduler:
    releaseName: kai-scheduler
    chartRef: oci://ghcr.io/nvidia/kai-scheduler/kai-scheduler
    version: v0.13.0-rc1
    namespace: kai-scheduler

  # cert-manager - for certificate management
  certManager:
    releaseName: cert-manager
    chartRef: cert-manager
    version: v1.14.4
    namespace: cert-manager
    repoURL: https://charts.jetstack.io
